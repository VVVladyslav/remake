-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "" SALT '' HASH '' ADMIN;           
CREATE CACHED TABLE "PUBLIC"."WORKER"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NAME" CHARACTER VARYING(1000) NOT NULL,
    "BIRTHDAY" DATE,
    "LEVEL" CHARACTER VARYING(20) NOT NULL,
    "SALARY" INTEGER
);  
ALTER TABLE "PUBLIC"."WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.WORKER;  
CREATE CACHED TABLE "PUBLIC"."CLIENT"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NAME" CHARACTER VARYING(1000) NOT NULL
);            
ALTER TABLE "PUBLIC"."CLIENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CLIENT;  
CREATE CACHED TABLE "PUBLIC"."PROJECT"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CLIENT_ID" INTEGER,
    "START_DATE" DATE,
    "FINISH_DATE" DATE
);              
ALTER TABLE "PUBLIC"."PROJECT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PROJECT; 
CREATE CACHED TABLE "PUBLIC"."PROJECT_WORKER"(
    "PROJECT_ID" INTEGER NOT NULL,
    "WORKER_ID" INTEGER NOT NULL
);      
ALTER TABLE "PUBLIC"."PROJECT_WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("PROJECT_ID", "WORKER_ID");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PROJECT_WORKER;          
ALTER TABLE "PUBLIC"."WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_98F54" CHECK(("SALARY" >= 100)
    AND ("SALARY" <= 100000)) NOCHECK;      
ALTER TABLE "PUBLIC"."WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_98" CHECK((CHAR_LENGTH("NAME") >= 2)
    AND (CHAR_LENGTH("NAME") <= 1000)) NOCHECK;       
ALTER TABLE "PUBLIC"."CLIENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_76" CHECK((CHAR_LENGTH("NAME") >= 2)
    AND (CHAR_LENGTH("NAME") <= 1000)) NOCHECK;       
ALTER TABLE "PUBLIC"."WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_98F5" CHECK("LEVEL" IN('Trainee', 'Junior', 'Middle', 'Senior')) NOCHECK;   
ALTER TABLE "PUBLIC"."WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_98F" CHECK(EXTRACT(YEAR FROM "BIRTHDAY") > 1900) NOCHECK;   
ALTER TABLE "PUBLIC"."PROJECT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_18" FOREIGN KEY("CLIENT_ID") REFERENCES "PUBLIC"."CLIENT"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."PROJECT_WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5B" FOREIGN KEY("PROJECT_ID") REFERENCES "PUBLIC"."PROJECT"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."PROJECT_WORKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5B3" FOREIGN KEY("WORKER_ID") REFERENCES "PUBLIC"."WORKER"("ID") NOCHECK;           
